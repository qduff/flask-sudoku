{% extends "base.html" %} {% block title %}Login{% endblock %} {% block content %}

<div class='tablediv'>
    <table id="grid">
        <tr>
            <td>1</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
            <td>7</td>
            <td>8</td>
            <td>9</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
</div>

<script>
    var selX = -1;
    var selY = -1;

    function cellClick(e) {
        console.log("Click", e.target.cellIndex, e.target.parentElement.rowIndex)

        selX = e.target.cellIndex;
        selY = e.target.parentElement.rowIndex;

        selectCell();
    }

    function selectCell() {
        $("#grid tr td").removeClass("cell-selected");
        $("#grid tr td").eq(selY * 9 + selX).addClass("cell-selected");
    }

    function keyDown(e) {
        if (e.code == "KeyA" && selX > 0) {
            selX -= 1;
        } else if (e.code == "KeyD" && selX < 8) {
            selX += 1;
        } else if (e.code == "KeyW" && selY > 0) {
            selY -= 1;
        } else if (e.code == "KeyS" && selY < 8) {
            selY += 1;
        }

        selectCell();
        console.log(e.code);
    }

    $("#grid tr td").on("click", cellClick);
    $("document").keypress(function() {
        console.log("Handler for .keypress() called.");
    });

    document.addEventListener("keypress", keyDown);
</script>

{% endblock %}